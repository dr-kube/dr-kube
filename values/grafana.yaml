adminUser: admin
adminPassword: drkube

service:
  type: ClusterIP

persistence:
  enabled: true
  storageClassName: csi-storageclass
  size: 10Gi

datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
      # Loki ÏÑ§Ï†ï
      - name: Loki
        type: loki
        url: http://loki:3100
        access: proxy
      # Prometheus ÏÑ§Ï†ï
      - name: Prometheus
        type: prometheus
        url: http://prometheus-server
        access: proxy

dashboards:
  default:
    kubernetes-overview:
      gnetId: 315
      revision: 3
      datasource: Prometheus
    node-exporter:
      gnetId: 1860
      revision: 37
      datasource: Prometheus
    kubernetes-cluster-monitoring:
      gnetId: 7249
      revision: 1gi t
      datasource: Prometheus
    kubernetes-pods:
      gnetId: 6417
      revision: 1
      datasource: Prometheus
# # https://artifacthub.io/packages/helm/grafana/grafana
# global:
#   imageRegistry: null
#   imagePullSecrets: []
# rbac:
#   create: true
#   pspEnabled: false
#   pspUseAppArmor: false
#   namespaced: false
#   extraRoleRules: []
#   extraClusterRoleRules: []
# serviceAccount:
#   create: true
#   name: null
#   nameTest: null
#   labels: {}
#   automountServiceAccountToken: false
# replicas: 1
# headlessService: false
# automountServiceAccountToken: true
# autoscaling:
#   enabled: false
#   minReplicas: 1
#   maxReplicas: 5
#   targetCPU: '60'
#   targetMemory: ''
#   behavior: {}
# podDisruptionBudget: {}
# deploymentStrategy:
#   type: RollingUpdate
# readinessProbe:
#   httpGet:
#     path: /api/health
#     port: 3000
# livenessProbe:
#   httpGet:
#     path: /api/health
#     port: 3000
#   initialDelaySeconds: 60
#   timeoutSeconds: 30
#   failureThreshold: 10
# image:
#   registry: docker.io
#   repository: grafana/grafana
#   tag: ''
#   sha: ''
#   pullPolicy: IfNotPresent
#   pullSecrets: []
# testFramework:
#   enabled: true
#   image:
#     registry: docker.io
#     repository: bats/bats
#     tag: v1.4.1
#   imagePullPolicy: IfNotPresent
#   securityContext: {}
#   containerSecurityContext: {}
#   resources: {}
# dnsPolicy: null
# dnsConfig: {}
# securityContext:
#   runAsNonRoot: true
#   runAsUser: 472
#   runAsGroup: 472
#   fsGroup: 472
# containerSecurityContext:
#   allowPrivilegeEscalation: false
#   capabilities:
#     drop:
#       - ALL
#   seccompProfile:
#     type: RuntimeDefault
# createConfigmap: true
# extraConfigmapMounts: []
#   # - name: certs-configmap
#   #   mountPath: /etc/grafana/ssl/
#   #   subPath: certificates.crt # (optional)
#   #   configMap: certs-configmap
#   #   readOnly: true
#   #   optional: false

# extraEmptyDirMounts: []
#   # - name: provisioning-notifiers
#   #   mountPath: /etc/grafana/provisioning/notifiers

# # Apply extra labels to common labels.
# extraLabels: {}
# downloadDashboardsImage:
#   registry: docker.io
#   repository: curlimages/curl
#   tag: 8.9.1
#   sha: ''
#   pullPolicy: IfNotPresent
# downloadDashboards:
#   env: {}
#   envFromSecret: ''
#   resources: {}
#   securityContext:
#     allowPrivilegeEscalation: false
#     capabilities:
#       drop:
#         - ALL
#     seccompProfile:
#       type: RuntimeDefault
#   envValueFrom: {}
#   #  ENV_NAME:
#   #    configMapKeyRef:
#   #      name: configmap-name
#   #      key: value_key

# ## Pod Annotations
# # podAnnotations: {}

# ## ConfigMap Annotations
# # configMapAnnotations: {}
# # argocd.argoproj.io/sync-options: Replace=true

# ## Pod Labels
# # podLabels: {}

# podPortName: grafana
# gossipPortName: gossip
# service:
#   enabled: true
#   type: ClusterIP
#   ipFamilyPolicy: ''
#   ipFamilies: []
#   loadBalancerIP: ''
#   loadBalancerClass: ''
#   loadBalancerSourceRanges: []
#   port: 80
#   targetPort:
#     3000
#     # targetPort: 4181 To be used with a proxy extraContainer
#   ## Service annotations. Can be templated.
#   annotations: {}
#   labels: {}
#   portName: service
#   appProtocol: ''
#   sessionAffinity: ''
# serviceMonitor:
#   enabled: false
#   path: /metrics
#   labels: {}
#   interval: 30s
#   scheme: http
#   tlsConfig: {}
#   scrapeTimeout: 30s
#   relabelings: []
#   metricRelabelings: []
#   basicAuth: {}
#   targetLabels: []
# extraExposePorts: []
#   # - name: keycloak
#   #   port: 8080
#   #   targetPort: 8080

# # overrides pod.spec.hostAliases in the grafana deployment's pods
# hostAliases: []
# # ingress:
# #   enabled: true
# #   ingressClassName: nginx
# #   annotations: {}
# #   labels: {}
# #   path: /
# #   pathType: Prefix
# #   hosts:
# #   - grafana.drkube.shop
# #   extraPaths: []
# #   tls: []
# route:
#   main:
#     enabled: false
#     apiVersion: gateway.networking.k8s.io/v1
#     kind: HTTPRoute
#     annotations: {}
#     labels: {}
#     hostnames: []
#     parentRefs: []
#     matches:
#     - path:
#         type: PathPrefix
#         value: /
#     filters: []
#     additionalRules: []
# resources:
#   limits:
#     memory: 1740Mi
#   requests:
#     memory: 768Mi
# nodeSelector: {}
# tolerations: []
# affinity: {}
# topologySpreadConstraints: []
# extraInitContainers: []
# extraContainers: ''
# extraContainerVolumes: []
# persistence:
#   type: pvc
#   enabled: true
#   storageClassName: csi-storageclass
#   volumeName: ''
#   accessModes:
#   - ReadWriteOnce
#   size: 10Gi
#   finalizers:
#   - kubernetes.io/pvc-protection
#   extraPvcLabels: {}
#   disableWarning: false
#   inMemory:
#     enabled: false
#   lookupVolumeName: true
# initChownData:
#   ## If false, data ownership will not be reset at startup
#   ## This allows the grafana-server to be run with an arbitrary user
#   ##
#   enabled:
#     false ## Prometheus ÏÑ§Ï†ï „ÖÇÎ∞òÏòÅÌïòÎäîÍ≤ÉÎïåÎ¨∏ÏóêÎ≥Ä
#     #üëâ 99% ÌôïÎ•†Î°ú Ïù¥ Ï°∞Ìï©
#     #
#     #‚úî persistence.enabled=true
#     #‚úî PVC / PV (NFS, hostPath, Longhorn Îì±)
#     #‚úî Ìï¥Îãπ Ïä§ÌÜ†Î¶¨ÏßÄÍ∞Ä chown ÏùÑ ÌóàÏö© Ïïà Ìï®
#     #
#     #Prometheus datasourceÎ•º Ï∂îÍ∞ÄÌïòÎ©¥ÏÑú:
#     #
#     #Grafana provisioning ÌååÏùº ÏàòÍ∞Ä ÎäòÍ≥†
#     #
#     #/var/lib/grafana Ï†ëÍ∑º ÏãúÏ†êÏù¥ Î∞îÎÄåÍ±∞ÎÇò
#     #
#     #init containerÍ∞Ä Îã§Ïãú ÌôúÏÑ±ÌôîÎê®
#     #
#     #‚û°Ô∏è Ïû†Ïû¨Îèº ÏûàÎçò Í∂åÌïú Î¨∏Ï†úÍ∞Ä ÎìúÎü¨ÎÇú Í≤É

#   ## initChownData container image
#   ##
#   image:
#     registry: docker.io
#     repository: library/busybox
#     tag: 1.31.1
#     sha: ''
#     pullPolicy: IfNotPresent
#   resources: {}
#   securityContext:
#     readOnlyRootFilesystem: false
#     runAsNonRoot: false
#     runAsUser: 0
#     seccompProfile:
#       type: RuntimeDefault
#     capabilities:
#       add:
#       - CHOWN
#       drop:
#       - ALL
# adminUser: admin
# adminPassword: drkube
# admin:
#   existingSecret: ''
#   userKey: admin-user
#   passwordKey: admin-password
# env: {}
# envValueFrom: {}
# envFromSecret: ''
# envRenderSecret: {}
# envFromSecrets: []
# envFromConfigMaps: []
# enableServiceLinks: true
# extraSecretMounts: []
# extraVolumeMounts: []
# extraVolumes: []
# lifecycleHooks: {}
# plugins: []
# datasources:
#   datasources.yaml:
#     apiVersion: 1
#     datasources:
#       # Loki ÏÑ§Ï†ï
#       - name: Loki
#         type: loki
#         url: http://loki:3100
#         access: proxy
#       - name: Prometheus
#         type: prometheus
#         url: http://prometheus-server
#         access: proxy

# ## Configure grafana alerting (can be templated)
# ## ref: https://docs.grafana.com/alerting/set-up/provision-alerting-resources/file-provisioning/
# ##
# alerting: {}
# notifiers: {}
# dashboardProviders:
#   dashboardproviders.yaml:
#     apiVersion: 1
#     providers:
#       - name: "default"
#         orgId: 1
#         folder: ""
#         type: file
#         disableDeletion: false
#         editable: true
#         options:
#           path: /var/lib/grafana/dashboards/default

# ## Configure how curl fetches remote dashboards. The beginning dash is required.
# ## NOTE: This sets the default short flags for all dashboards, but these
# ##       defaults can be overridden individually for each dashboard by setting
# ##       curlOptions. See the example dashboards section below.
# ##
# ## -s  - silent mode
# ## -k  - allow insecure (eg: non-TLS) connections
# ## -f  - fail fast
# ## See the curl documentation for additional options
# ##
# defaultCurlOptions: "-skf"

# ## Configure grafana dashboard to import
# ## NOTE: To use dashboards you must also enable/configure dashboardProviders
# ## ref: https://grafana.com/dashboards
# ##
# ## dashboards per provider, use provider name as key.
# ##
# dashboards:
#   default:
#     kubernetes-overview:
#       gnetId: 315
#       revision: 3
#       datasource: Prometheus
#     node-exporter:
#       gnetId: 1860
#       revision: 37
#       datasource: Prometheus
#     kubernetes-cluster-monitoring:
#       gnetId: 7249
#       revision: 1
#       datasource: Prometheus
#     kubernetes-pods:
#       gnetId: 6417
#       revision: 1
#       datasource: Prometheus
# dashboardsConfigMaps: {}
# grafana.ini:
#   paths:
#     data: /var/lib/grafana/
#     logs: /var/log/grafana
#     plugins: /var/lib/grafana/plugins
#     provisioning: /etc/grafana/provisioning
#   analytics:
#     check_for_updates: true
#   log:
#     mode: console
#   grafana_net:
#     url: https://grafana.net
#   server:
#     domain: "{{ if (and .Values.ingress.enabled .Values.ingress.hosts) }}{{ tpl (.Values.ingress.hosts | first) . }}{{ else }}''{{ end }}"
# ## grafana Authentication can be enabled with the following values on grafana.ini
# # server:
# # The full public facing url you use in browser, used for redirects and emails
# #    root_url:
# # https://grafana.com/docs/grafana/latest/auth/github/#enable-github-in-grafana
# # auth.github:
# #    enabled: false
# #    allow_sign_up: false
# #    scopes: user:email,read:org
# #    auth_url: https://github.com/login/oauth/authorize
# #    token_url: https://github.com/login/oauth/access_token
# #    api_url: https://api.github.com/user
# #    team_ids:
# #    allowed_organizations:
# #    client_id:
# #    client_secret:
# ## LDAP Authentication can be enabled with the following values on grafana.ini
# ## NOTE: Grafana will fail to start if the value for ldap.toml is invalid
# # auth.ldap:
# #   enabled: true
# #   allow_sign_up: true
# #   config_file: /etc/grafana/ldap.toml
# ## Grafana's alerting configuration
# # unified_alerting:
# #   enabled: true
# #   rule_version_record_limit: "5"

# ## Grafana's LDAP configuration
# ## Templated by the template in _helpers.tpl
# ## NOTE: To enable the grafana.ini must be configured with auth.ldap.enabled
# ## ref: http://docs.grafana.org/installation/configuration/#auth-ldap
# ## ref: http://docs.grafana.org/installation/ldap/#configuration
# ldap:
#   enabled: false
#   existingSecret: ''
#   config: ''
# shareProcessNamespace: false
# smtp:
#   existingSecret: ''
#   userKey: user
#   passwordKey: password
# sidecar:
#   image:
#     registry: quay.io
#     repository: kiwigrid/k8s-sidecar
#     tag: 2.1.2
#     sha: ''
#   imagePullPolicy: IfNotPresent
#   resources: {}
#   #   limits:
#   #     cpu: 100m
#   #     memory: 100Mi
#   #   requests:
#   #     cpu: 50m
#   #     memory: 50Mi
#   securityContext:
#     allowPrivilegeEscalation: false
#     capabilities:
#       drop:
#         - ALL
#     seccompProfile:
#       type: RuntimeDefault
#   enableUniqueFilenames: false
#   readinessProbe: {}
#   livenessProbe: {}
#   alerts:
#     enabled: false
#     env: {}
#     envValueFrom: {}
#     label: grafana_alert
#     labelValue: ''
#     searchNamespace: null
#     watchMethod: WATCH
#     resource: both
#     resourceName: ''
#     reloadURL: http://localhost:3000/api/admin/provisioning/alerting/reload
#     script: null
#     skipReload: false
#     initAlerts: false
#     extraMounts: []
#     sizeLimit: ''
#   dashboards:
#     enabled: false
#     env: {}
#     envValueFrom: {}
#     SCProvider: true
#     label: grafana_dashboard
#     labelValue: ''
#     folder: /tmp/dashboards
#     defaultFolderName: null
#     searchNamespace: null
#     watchMethod: WATCH
#     resource: both
#     folderAnnotation: null
#     resourceName: ''
#     reloadURL: http://localhost:3000/api/admin/provisioning/dashboards/reload
#     script: null
#     skipReload: false
#     initDashboards: false
#     provider:
#       name: sidecarProvider
#       orgid: 1
#       # folder in which the dashboards should be imported in grafana
#       folder: ""
#       # <string> folder UID. will be automatically generated if not specified
#       folderUid: ""
#       # type of the provider
#       type: file
#       disableDelete: false
#       allowUiUpdates: false
#       foldersFromFilesStructure: false
#     extraMounts: []
#     sizeLimit: ''
#   datasources:
#     enabled: false
#     env: {}
#     envValueFrom: {}
#     label: grafana_datasource
#     labelValue: ''
#     searchNamespace: null
#     watchMethod: WATCH
#     resource: both
#     resourceName: ''
#     reloadURL: http://localhost:3000/api/admin/provisioning/datasources/reload
#     script: null
#     skipReload: false
#     initDatasources: false
#     extraMounts: []
#     sizeLimit: ''
#   plugins:
#     enabled: false
#     env: {}
#     label: grafana_plugin
#     labelValue: ''
#     searchNamespace: null
#     watchMethod: WATCH
#     resource: both
#     resourceName: ''
#     reloadURL: http://localhost:3000/api/admin/provisioning/plugins/reload
#     script: null
#     skipReload: false
#     initPlugins: false
#     extraMounts: []
#     sizeLimit: ''
#   notifiers:
#     enabled: false
#     env: {}
#     label: grafana_notifier
#     labelValue: ''
#     searchNamespace: null
#     watchMethod: WATCH
#     resource: both
#     resourceName: ''
#     reloadURL: http://localhost:3000/api/admin/provisioning/notifications/reload
#     script: null
#     skipReload: false
#     initNotifiers: false
#     extraMounts: []
#     sizeLimit: ''
# namespaceOverride: ''
# revisionHistoryLimit: 10
# imageRenderer:
#   deploymentStrategy: {}
#   enabled: false
#   replicas: 1
#   autoscaling:
#     enabled: false
#     minReplicas: 1
#     maxReplicas: 5
#     targetCPU: '60'
#     targetMemory: ''
#     behavior: {}
#   serverURL: ''
#   renderingCallbackURL: ''
#   image:
#     registry: docker.io
#     repository: grafana/grafana-image-renderer
#     tag: latest
#     sha: ''
#     pullSecrets: []
#     pullPolicy: Always
#   env:
#     HTTP_HOST: 0.0.0.0
#     XDG_CONFIG_HOME: /tmp/.chromium
#     XDG_CACHE_HOME: /tmp/.chromium
#   envValueFrom: {}
#   serviceAccountName: ''
#   automountServiceAccountToken: false
#   securityContext: {}
#   containerSecurityContext:
#     seccompProfile:
#       type: RuntimeDefault
#     capabilities:
#       drop: ["ALL"]
#     allowPrivilegeEscalation: false
#     readOnlyRootFilesystem: true
#   podAnnotations: {}
#   hostAliases: []
#   # image-renderer deployment priority class
#   priorityClassName: ""
#   service:
#     enabled: true
#     # image-renderer service port name
#     portName: "http"
#     # image-renderer service port used by both service and deployment
#     port: 8081
#     targetPort: 8081
#     appProtocol: ''
#   serviceMonitor:
#     enabled: false
#     path: /metrics
#     labels: {}
#     interval: 1m
#     scheme: http
#     tlsConfig: {}
#     scrapeTimeout: 30s
#     relabelings: []
#     targetLabels: []
#   grafanaProtocol: http
#   grafanaSubPath: ''
#   podPortName: http
#   revisionHistoryLimit: 10
#   networkPolicy:
#     limitIngress: true
#     limitEgress: false
#     extraIngressSelectors: []
#   resources: {}
#   #   limits:
#   #     cpu: 100m
#   #     memory: 100Mi
#   #   requests:
#   #     cpu: 50m
#   #     memory: 50Mi
#   ## Node labels for pod assignment
#   ## ref: https://kubernetes.io/docs/user-guide/node-selection/
#   #
#   nodeSelector: {}
#   tolerations: []
#   affinity: {}
#   extraConfigmapMounts: []
#   extraSecretMounts: []
#   extraVolumeMounts: []
#   extraVolumes: []
# networkPolicy:
#   enabled: false
#   ingress: true
#   allowExternal: true
#   explicitNamespacesSelector: {}
#   egress:
#     enabled: false
#     blockDNSResolution: false
#     ports: []
#     to: []
# enableKubeBackwardCompatibility: false
# useStatefulSet: false
# extraObjects: []
# assertNoLeakedSecrets: true
