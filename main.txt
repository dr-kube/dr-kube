🎙️ Dr. Kube 중간 회고 발표 대본 (격식 있는 10분 버전)
발표자: 백종화
시간: 약 8~10분
1. Intro: 프로젝트 소개 및 목표 (1분 30초)
(슬라이드: 타이틀 - Dr. Kube)
안녕하십니까, Dr. Kube 프로젝트의 발표를 맡은 팀 리더 백종화입니다.
저희 팀은 Kubernetes 환경에서 장애 발생 시, 시스템이 남기는 로그와 메트릭을 분석하여 자동으로 원인을 진단하고 복구 코드를 제안하는 AI 에이전트를 개발하고 있습니다.
처음 이 프로젝트를 기획했을 때, 저희의 목표는 거창한 AIOps 플랫폼이 아니었습니다. 현업 엔지니어로서 가장 고통스러운 시간인 **MTTR(평균 복구 시간)**을 어떻게 하면 현실적으로 줄일 수 있을까에 대한 고민에서 출발했습니다.
오늘 이 자리에서는 저희가 지난 기간 동안 무엇을 구축했고, 어떤 현실적인 장벽에 부딪혔으며, 이를 극복하기 위해 어떻게 전략을 수정했는지 가감 없이 공유하고자 합니다.
2. Tried: 기반 구축과 설계 (2분)
(슬라이드: Tried - 인프라 및 아키텍처)
먼저, 저희가 현재까지 완료한 **'시도(Tried)'**에 대해 말씀드리겠습니다.
첫째, 견고한 인프라 환경 구축입니다.
저희는 NHN Cloud 환경을 기반으로 Kubernetes 클러스터와 Prometheus, Loki, Grafana로 이어지는 Observability 파이프라인 구축을 완료했습니다. 데이터 수집을 위한 기반 공사는 끝난 상태입니다.
둘째, 에이전트 아키텍처 설계입니다.
클러스터 장애 시에도 독립적으로 생존하여 진단을 수행할 수 있도록 External Observer(외부 관찰자) 패턴을 채택했습니다. 장애가 발생하면 Alertmanager가 신호를 보내고, LLM이 이를 분석하는 기본 설계를 확정했습니다.
여기까지만 보면 순조로운 진행처럼 보일 수 있습니다. 하지만 실제 Agent 구현 단계로 넘어가면서, 저희는 예상보다 훨씬 높은 현실의 벽을 마주하게 되었습니다.
3. Failed: 직면한 도전과 시행착오 (3분 30초)
(슬라이드: Failed - 현실적인 제약과 기술적 난관)
저희가 겪은 시행착오는 크게 협업 리소스, 기술적 복잡도, 비용 효율성 세 가지로 요약할 수 있습니다.
가장 큰 난관은 '물리적 시간과 협업의 비용'이었습니다.
팀원 모두가 현업과 프로젝트를 병행하다 보니, 절대적인 개발 시간을 확보하는 데 어려움이 있었습니다.
특히, 단순한 기능 개발이 아니라 LLM 에이전트라는 불확실한 대상을 다루다 보니, 초기에 명확한 규칙을 세우지 못한 상태에서 각자의 코드가 합쳐지며 방향성을 잃는 경우가 많았습니다. 뼈대 위에 불필요한 살이 붙어 아키텍처가 비대해졌고, 이를 다시 떼어내고 수정하는 재작업(Refactoring) 과정에서 많은 리소스가 소모되었습니다.
두 번째는 'LLM 제어의 난이도'였습니다.
저희는 LLM이 명확한 원인만 제시하길 원했지만, 실제 모델은 지나치게 장황한 설명을 내놓아 가독성을 떨어뜨렸습니다. 또한, LangChain과 LangGraph 사이에서 기술적 선택을 고민하며 에이전트의 로직을 구성하는 데 예상보다 많은 시행착오를 겪었습니다.
마지막으로 '비용 효율성' 문제입니다.
초기에는 클라우드 환경을 적극 활용했으나, 지속적인 비용 발생 이슈로 인해 개발 환경을 **로컬(Local)**로 전환해야 하는 인프라적 변경 사항도 있었습니다.
이러한 과정들을 통해 저희는 **"현재 리소스로 완벽한 고도화는 불가능하다"**는 것을 냉정하게 인정하게 되었습니다.
4. Learned: 교훈과 R&R 재정립 (2분)
(슬라이드: Learned - 선택과 집중)
이러한 실패를 통해 저희는 중요한 교훈을 얻었고, 프로젝트 운영 방식을 전면 개편했습니다.
첫째, 명확한 R&R(역할 분담)의 재수립입니다.
"다 같이 고민하면 해결되겠지"라는 생각은 오산이었습니다. 저희는 팀을 **'모니터링 환경 최적화(2명)'**와 **'에이전트 코어 개발(3명)'**으로 역할을 완전히 분리했습니다. 각자가 맡은 도메인에만 집중함으로써 개발 속도를 높이는 전략을 택했습니다.
둘째, 'MVP 프로토타입' 중심의 사고 전환입니다.
불완전하더라도 일단 돌아가는 프로토타입을 만드는 것이 우선임을 깨달았습니다. LLM의 장황한 답변을 통제하기 위해 프롬프트를 최적화하고, 복잡한 기능보다는 **'원인 파악'**이라는 본질에 집중하기로 했습니다.
5. Next: 향후 계획과 전략 수정 (2분)
(슬라이드: Next - GitOps 기반의 안정적 복구)
마지막으로, 남은 기간 동안의 계획입니다. 저희는 안정적인 프로토타입 완성을 위해 복구 프로세스를 보다 안전하고 현실적으로 변경했습니다.
기존에는 AI가 직접 명령어를 실행하는 방식이었으나, 이는 보안상 위험하고 구현 난이도가 높았습니다.
저희가 새롭게 채택한 방식은 'GitOps 기반의 PR(Pull Request) 자동 생성' 모델입니다.
변경된 워크플로우는 다음과 같습니다.
K8s에 장애(Alert)가 발생하면 에이전트가 동작합니다.
에이전트는 원인을 분석하고, 이를 해결할 수 있는 **코드 수정안을 담은 PR(Pull Request)**을 생성합니다.
운영자가 이 PR을 검토하고 Merge하면, ArgoCD가 변경 사항을 감지하여 클러스터에 배포합니다.
이 방식은 AI의 환각 리스크를 운영자가 최종 검수할 수 있어 안전하며, 저희가 목표로 하는 **'안정적인 프로토타입'**을 3월까지 완성하는 데 가장 적합한 모델입니다.
시행착오는 끝났습니다. 남은 기간 동안 선택과 집중을 통해, 작지만 확실하게 동작하는 Dr. Kube를 보여드리겠습니다.
경청해 주셔서 감사합니다.
